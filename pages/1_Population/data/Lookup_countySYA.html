---
layout: page
title: "Single Year of Age Data"
permalink: "/population/data/sya-county/"
custom_js:
- /assets/js/FileSaver.min.js
- /assets/js/common/dola_custom_functions.js
file: 
- "https://console.cloud.google.com/m/cloudstorage/b/co-publicdata/o/sya-county.csv"
- "https://console.cloud.google.com/m/cloudstorage/b/co-publicdata/o/sya-region.csv"
description: "Search for information on total population and gender by single year of age."
years: "1990-2014 (Estimates) and 2015-2050 (Forecast)"
tag: "popdata"

---
{% if page.custom_js %}
  {% for js_file in page.custom_js %}
  <script src='{{ js_file }}' type="text/javascript"></script>
  {% endfor %}
{% endif %}


<h2 id="county-population-by-single-year-of-age">Population by Single Year of Age - County</h2>

<a href="/population/data/sya-regions/">Need Region Data?</a><br /><br />
<label for="countiesSelected" style="font-weight: bold;">Select 1 or more counties:</label><br />
<select id="countiesSelected" class="formtable" name="countiesSelected" multiple="multiple" size="5">	
{% include _optionValuesCounty.html %}
</select>

<br /><br />
<label for="yearsSelected" style="font-weight: bold;">Select 1 or more years:</label><br />
<select id="yearsSelected" class="formtable" name="yearsSelected" multiple="multiple" size="5">
<!-- populated from database --> 
</select>

<br /><br />
<label for="agesSelected" style="font-weight: bold;">Select 1 or more ages:</label><br />
<select id="agesSelected" class="formtable" name="agesSelected" multiple="multiple" size="5">
  <option value="0">0</option>
	<option value="1">1</option>
	<option value="2">2</option>
	<option value="3">3</option>
	<option value="4">4</option>
  <option value="5">5</option>
	<option value="6">6</option>
	<option value="7">7</option>
	<option value="8">8</option>
	<option value="9">9</option>
  <option value="10">10</option>
	<option value="11">11</option>
	<option value="12">12</option>
	<option value="13">13</option>
	<option value="14">14</option>
  <option value="15">15</option>
	<option value="16">16</option>
	<option value="17">17</option>
	<option value="18">18</option>
	<option value="19">19</option>
  <option value="20">20</option>
	<option value="21">21</option>
	<option value="22">22</option>
	<option value="23">23</option>
	<option value="24">24</option>
  <option value="25">25</option>
	<option value="26">26</option>
	<option value="27">27</option>
	<option value="28">28</option>
	<option value="29">29</option>
  <option value="30">30</option>
	<option value="31">31</option>
	<option value="32">32</option>
	<option value="33">33</option>
	<option value="34">34</option>
  <option value="35">35</option>
	<option value="36">36</option>
	<option value="37">37</option>
	<option value="38">38</option>
	<option value="39">39</option>  
  <option value="40">40</option>
	<option value="41">41</option>
	<option value="42">42</option>
	<option value="43">43</option>
	<option value="44">44</option>
  <option value="45">45</option>
	<option value="46">46</option>
	<option value="47">47</option>
	<option value="48">48</option>
	<option value="49">49</option>  
  <option value="50">50</option>
	<option value="51">51</option>
	<option value="52">52</option>
	<option value="53">53</option>
	<option value="54">54</option>
  <option value="55">55</option>
	<option value="56">56</option>
	<option value="57">57</option>
	<option value="58">58</option>
	<option value="59">59</option>  
  <option value="60">60</option>
	<option value="61">61</option>
	<option value="62">62</option>
	<option value="63">63</option>
	<option value="64">64</option>
  <option value="65">65</option>
	<option value="66">66</option>
	<option value="67">67</option>
	<option value="68">68</option>
	<option value="69">69</option>  
  <option value="70">70</option>
	<option value="71">71</option>
	<option value="72">72</option>
	<option value="73">73</option>
	<option value="74">74</option>
  <option value="75">75</option>
	<option value="76">76</option>
	<option value="77">77</option>
	<option value="78">78</option>
	<option value="79">79</option>  
  <option value="80">80</option>
	<option value="81">81</option>
	<option value="82">82</option>
	<option value="83">83</option>
	<option value="84">84</option>
  <option value="85">85</option>
	<option value="86">86</option>
	<option value="87">87</option>
	<option value="88">88</option>
	<option value="89">89</option>
  <option value="90">90</option>
</select>

<br /><br />
<input type="radio" name="compressed" value="no" checked>No Grouping&nbsp;&nbsp;&nbsp;
<input type="radio" name="compressed" value="opt1">Group by Year&nbsp;&nbsp;&nbsp;
<input type="radio" name="compressed" value="opt2">Group by County and Year&nbsp;&nbsp;&nbsp;
<input type="radio" name="compressed" value="opt3">Group by Age and Year<br />
<br />
<input type="submit" id="callapi" value="View Results" class="form-submit" />
<br /><br /><br />
<input type="submit" id="dlcsv" value="Download CSV" style="display:none;" />
<br />
<table id="resultstable"></table>

<script>
  
    fetchJSONFile('https://gis.dola.colorado.gov/lookups/syaYRS', function(yrs) {
        var queriedYears = "";
        for (let i = 0; i < yrs.length; i++) {
            queriedYears += "<option value='" + yrs[i].year + "'>" + yrs[i].year + "</option>";
        }
        document.getElementById('yearsSelected').innerHTML = queriedYears;
    });


    document.getElementById('callapi').addEventListener('click', function() {

        var selectedCounties = getSelectValues(countiesSelected);
        var selectedAges = getSelectValues(agesSelected);
        var selectedYears = getSelectValues(yearsSelected);

        var compressed = document.querySelector('input[name="compressed"]:checked').value;

        var yearstring;
        var agestring;
        var countystring;

        /*VALIDATION*/
        if (selectedYears.length === 0) {
            alert('no year selected');
            return;
        } else {
            yearstring = selectedYears.join(",");
        }

        if (selectedAges.length === 0) {
            alert('no age selected');
            return;
        } else {
            agestring = selectedAges.join(",");
        }

        if (selectedCounties.length === 0) {
            alert('no county selected');
            return;
        } else {
            countystring = selectedCounties.join(",");
        }

        var querystring = "age=" + agestring + "&county=" + countystring + "&year=" + yearstring + "&group=" + compressed;

        fetchJSONFile("https://gis.dola.colorado.gov/lookups/sya?" + querystring, function(text) {
            /* make Download CSV button visible */
            document.getElementById("dlcsv").style.display = 'inline-block';
            createtable(text);
        });

    }, false);


    function createtable(results) {

        var table = document.getElementById("resultstable");
        table.innerHTML = ""; /*clear all previous content*/

        var header = table.createTHead();
        var hrow = header.insertRow(0);
        var hcell1 = hrow.insertCell(0);
        var hcell2 = hrow.insertCell(1);
        var hcell3 = hrow.insertCell(2);
        var hcell4 = hrow.insertCell(3);
        var hcell5 = hrow.insertCell(4);
        var hcell6 = hrow.insertCell(5);
        var hcell7 = hrow.insertCell(6);
        var hcell8 = hrow.insertCell(7);

        hcell1.innerHTML = "CFIPS";
        hcell2.innerHTML = "YEAR";
        hcell3.innerHTML = "AGE";
        hcell4.innerHTML = "COUNTY";
        hcell5.innerHTML = "MALE";
        hcell6.innerHTML = "FEMALE";
        hcell7.innerHTML = "TOTAL";
        hcell8.innerHTML = "TYPE";

        var body = table.appendChild(document.createElement('tbody'));

        for (var i = 0; i < results.length; i++) {
            /*age is falsy if 0, need custom fix*/
            var pass_age = results[i].age || "";
            if (results[i].age === 0) {
                pass_age = "0";
            }
            addrow(i, results[i].countyfips || "", results[i].year || "", pass_age, results[i].county || "", results[i].malepopulation, results[i].femalepopulation, results[i].totalpopulation, results[i].datatype || "");
        }

    }


    function addrow(rownum, countyfips, year, age, county, malepopulation, femalepopulation, totalpopulation, datatype) {

        var tableRef = document.getElementById('resultstable').getElementsByTagName('tbody')[0];

        /* Create an empty <tr> element and add it to the 1st position of the table:*/
        var row = tableRef.insertRow(rownum);

        /* Insert new cells (<td> elements) at the 1st and 2nd position of the "new" <tr> element:*/
        var cell1 = row.insertCell(0);
        var cell2 = row.insertCell(1);
        var cell3 = row.insertCell(2);
        var cell4 = row.insertCell(3);
        var cell5 = row.insertCell(4);
        var cell6 = row.insertCell(5);
        var cell7 = row.insertCell(6);
        var cell8 = row.insertCell(7);

        /* Add some text to the new cells:*/
        cell1.innerHTML = countyfips;
        cell2.innerHTML = year;
        cell3.innerHTML = age;
        cell4.innerHTML = county;
        cell5.innerHTML = Number(malepopulation).toLocaleString();
        cell6.innerHTML = Number(femalepopulation).toLocaleString();
        cell7.innerHTML = Number(totalpopulation).toLocaleString();
        cell8.innerHTML = datatype;

    }


    document.getElementById('dlcsv').addEventListener('click', function() {
        dlcsv("resultstable", "county_sya_data.csv");
    }, false);
  
</script>